<%= content_for(:page, "journal") %>

<div class="container" style="margin-top: 100px";>
  <div class="row justify-content-center">
    <div class="col-sm-9 journal">
      <center>
        <p><strong class='journal-title'>Challenges completed</strong></p>
      </center>

      <!-- card_participations = Challenge.title + Feedback + Ratings -->
      <% @participations.each do |participation| %>
        <!-- Si participation.validated? (si les ratings + feedback sont complétés = true sinon false), on n'affiche pas la participation -->
        <% if participation.validated? %>
          <div class="card-trip border-<%= participation.challenge.category.gsub(/\s+/, "").downcase %>">
            <div class="card-trip-infos">
              <div>
                <h5><%= image_tag participation.challenge.show_category_logo, size: "20" %> <%= participation.challenge.title %></h5>
                <p><%= participation.feedback %>
                </p>
              </div>
            </div>
            <div class="card-trip-pricing">
              <% participation.difficulty.times do %>
                <i class="fas fa-dragon color-<%= participation.challenge.category.gsub(/\s+/, "").downcase %>"></i>
              <% end %>
              <% (5 - participation.difficulty).times  do %>
                <%= image_tag(participation.challenge.show_category_color_on_difficulty_icon, size: "21") %>
              <% end %>
                <br>
              <% participation.appreciation.times do %>
                <i class="fas fa-heart color-<%= participation.challenge.category.gsub(/\s+/, "").downcase %>"></i>
              <% end %>
              <% (5 - participation.appreciation).times do %>
                <i class="far fa-heart color-<%= participation.challenge.category.gsub(/\s+/, "").downcase %>"></i>
              <% end %>
            </div>
          </div>
        <% end %>
      <% end %>
      <center>
        <p><%= image_tag "emoji/027-cool.png", size: 50, style: "transform: rotatey(180deg)" %></p>
      <center>
    </div>
  </div>
</div>


